<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Guess Game Demo</title>
    <link rel="stylesheet" href="css/styles.css" media="screen" title="no title" charset="utf-8">
  </head>
  <body>
    <div class="header">
      <h1 class="sub-heading">Taylor's Guessing Game</h1>
    </div>

    <div class="push">
      <!-- this is empty to compensate for the header -->
    </div>

    <div>
      <h1 class="" id="userName"></h1>
    </div>

    <div>
      <h1 class="" id="question"> </h1>
      <h2 class="" id="answer"> </h2>
    </div>

    <div>
      <form action="" id="userAnswerForm">
        <input type="text" name="userAnswer" id="userAnswer" placeholder="Put Your Answer Here">
        <input type="button" id="userSubmitButto" onclick = "onSubmitAnswer()" value="Submit Answer">
      </form>
    </div>

    <script type="text/javascript">
      var userName, answer = '';

      //udpates page with text
      var displayOnPage = function(elmId,msg){
        document.getElementById(elmId).innerHTML = msg;
      };

      //grabs the users answer and then checks value.
      var onSubmitAnswer = function(event){
        answer = document.getElementById('userAnswer').value;

        console.log("onSubmitAnswer -- fired OK");
        console.log("The answer from button submit " + answer);
      };

      //questions all have the same, repetitive properties. Lets build an object.
      var Question = function(question, answer, correctMsg, incorrectMsg){
        this.question = question;
        this.answer = answer;
        this.correctMsg = correctMsg;
        this.incorrectMsg = incorrectMsg;
      };

      var questionOne = new Question(
        "Did I grow up in the Seattle area?",
        "yes",
        "Good Job, " + userName + "! I did grow up in the area.",
        "I'm sorry " + userName + ", but I did indeed grow up in the area."
      );

      var questionTwo = new Question(
        "Have I ever visited Africa?",
        "no",
        "Good Job, " + userName + "! I have never visited Africa.",
        "I'm sorry " + userName + ", but I have never been to Africa."
      );

      var questionThree = new Question(
        "Do I own an 80lb German Shepherd / Husky dog?",
        "yes",
        "Good Job, " + userName + "! I do have a huge German Shepherd / Husky dog.",
        "I'm sorry " + userName + ", but I do indeed own a huge German Shepherd / Husky dog."
      );

      var questions = [questionOne, questionTwo, questionThree];

      // ask for the users name
      userName = prompt("Enter your name");
      displayOnPage('userName', "Hi " + userName + ". Let's play a game.");

      console.log("This is the userName var: " + userName);

      //iterate over our questions, and gatehr responses.
      for (var q in questions){
        var question = questions[q]; //grab our question
        console.log(question);

        answer = prompt(question.question);
        //answer check -- should be a function of the Question object?
        if (answer.toLowerCase() === question.answer){
          if (answer.toLowerCase() === 'yes') {
            displayOnPage('answer', question.correctMsg);
          } else {
            displayOnPage('answer', question.incorrectMsg);
          }
        }
      }

      //lets ask them to quess a number between 1 and 10
      var min = 1;
      var max = 10;
      correctNum = Math.floor(Math.random() * (max - min)) + min; //took this from MDN

      answer = prompt("Try to guess the number. It is between 1 and 10.");
      displayOnPage('question', "Try to guess the number. It is between 1 and 10.");

      console.log("The correct number is:" + correctNum);
      console.log("The user guessed: " + answer);

      if (parseInt(answer) === correctNum) {
        displayOnPage('answer', "Good Job, " + userName + "! You got it right!");
      } else if (parseInt(answer) > correctNum) {
        displayOnPage('answer', "Oops! Too high.");
      } else {
        // must be too low
        displayOnPage('ansewr', "Oops! Too low.");
      }

    </script>
  </body>
</html>
